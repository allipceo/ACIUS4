# ì„œëŒ€ë¦¬ ì ì§„ì  ë¦¬íŒ©í† ë§ ì‘ì—… ì§€ì‹œì„œ

**ë°œí–‰ì¼**: 2025ë…„ 8ì›” 10ì¼ 10:50 KST  
**ì§€ì‹œì**: ì¡°ëŒ€í‘œë‹˜  
**ê¸°íšì**: ë…¸íŒ€ì¥  
**ì‹¤í–‰ì**: ì„œëŒ€ë¦¬  
**ëª©í‘œ**: app_v1.6.py(694ì¤„) â†’ app_v1.7.py(80ì¤„) + ë¶„ë¦¬ëœ ëª¨ë“ˆë“¤  
**ì›ì¹™**: ê¸°ì¡´ ìì‚° ë³´ì¡´í•˜ë©´ì„œ ì ì§„ì  ê°œì„   

---

## ğŸ”’ **STEP 0: ì•ˆì „ì¥ì¹˜ êµ¬ì¶• (í•„ìˆ˜ ì„ í–‰ ì‘ì—…)**

### **ë°±ì—… ìƒì„±**
```bash
# í˜„ì¬ ìƒíƒœ ë°±ì—… ìƒì„±
cp app_v1.6.py app_v1.6.py.backup
cp -r routes/ routes_backup/
cp -r services/ services_backup/  
cp -r templates/ templates_backup/

# ë°±ì—… í™•ì¸
echo "ë°±ì—… ì™„ë£Œ í™•ì¸:"
ls -la app_v1.6.py.backup
ls -la routes_backup/
ls -la services_backup/
ls -la templates_backup/
```

### **Git ì»¤ë°‹ (ë¡¤ë°± í¬ì¸íŠ¸)**
```bash
git add .
git commit -m "ğŸ”’ ë¦¬íŒ©í† ë§ ì‹œì‘ ì „ ì•ˆì „ ë°±ì—… - app_v1.6.py ì •ìƒ ì‘ë™ ìƒíƒœ"
git tag v1.6-stable
```

### **ì‘ì—… ë¸Œëœì¹˜ ìƒì„±**
```bash
git checkout -b refactoring-v1.7
echo "âœ… ì•ˆì „ì¥ì¹˜ êµ¬ì¶• ì™„ë£Œ - ì–¸ì œë“  v1.6-stableë¡œ ë¡¤ë°± ê°€ëŠ¥"
```

---

## ğŸ“‹ **STEP 1: HTML í…œí”Œë¦¿ ë¶„ë¦¬ (ì˜ˆìƒ ì†Œìš”: 30ë¶„)**

### **1-1. templates/home.html ìƒì„±**

**ìœ„ì¹˜**: `templates/home.html`  
**ì†ŒìŠ¤**: `app_v1.6.py`ì˜ `/home` ë¼ìš°íŠ¸ì—ì„œ HTML ì¶”ì¶œ  
**í¬ê¸° ì œí•œ**: 200ì¤„ ì´í•˜  

**ì‘ì—… ë‚´ìš©**:
```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AICU Season 4 - ì¡°ëŒ€í‘œë‹˜ ì „ìš©</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- app_v1.6.pyì˜ ëŒ€ë¬¸ HTML ë‚´ìš©ì„ ì—¬ê¸°ì— ë³µì‚¬ -->
    <!-- ë™ì  ë°ì´í„°ëŠ” Jinja2 í…œí”Œë¦¿ ë¬¸ë²•ìœ¼ë¡œ ë³€ê²½ -->
    <!-- ì˜ˆ: {{ ceo_info.name }}, {{ ceo_info.days_left }} -->
</body>
</html>
```

**ë³€ê²½ ì‚¬í•­**:
- Python ë³€ìˆ˜ â†’ Jinja2 í…œí”Œë¦¿ ë³€ìˆ˜
- `f-string` â†’ `{{ variable }}` ë¬¸ë²•
- JavaScript ì¤‘ê´„í˜¸ ì´ìŠ¤ì¼€ì´í”„ ë¶ˆí•„ìš”

### **1-2. templates/basic_learning.html ì—…ë°ì´íŠ¸**

**ìœ„ì¹˜**: `templates/basic_learning.html` (ê¸°ì¡´ íŒŒì¼ ì—…ë°ì´íŠ¸)  
**ì†ŒìŠ¤**: `app_v1.6.py`ì˜ `/basic-learning` ë¼ìš°íŠ¸ HTML  

### **1-3. templates/category_learning.html ìƒì„±**

**ìœ„ì¹˜**: `templates/category_learning.html`  
**ì†ŒìŠ¤**: `app_v1.6.py`ì˜ `/category-learning` ë¼ìš°íŠ¸ HTML  

### **1-4. templates/statistics.html ì—…ë°ì´íŠ¸**

**ìœ„ì¹˜**: `templates/statistics.html` (ê¸°ì¡´ íŒŒì¼ ì—…ë°ì´íŠ¸)  
**ì†ŒìŠ¤**: `app_v1.6.py`ì˜ `/statistics` ë¼ìš°íŠ¸ HTML  

### **1-5. templates/settings.html ìƒì„±**

**ìœ„ì¹˜**: `templates/settings.html`  
**ì†ŒìŠ¤**: `app_v1.6.py`ì˜ `/settings` ë¼ìš°íŠ¸ HTML  
**íŠ¹ë³„ ì£¼ì˜**: JavaScript í•¨ìˆ˜ë“¤ í¬í•¨  

---

## ğŸ“‹ **STEP 2: ë¼ìš°íŠ¸ ë¶„ë¦¬ (ì˜ˆìƒ ì†Œìš”: 40ë¶„)**

### **2-1. routes/home_routes.py ìƒì„±**

**ìœ„ì¹˜**: `routes/home_routes.py`  
**í¬ê¸° ì œí•œ**: 120ì¤„ ì´í•˜  

```python
from flask import Blueprint, render_template, redirect, url_for, session, jsonify
from services.user_service import get_ceo_info, check_user_session
from datetime import datetime

home_bp = Blueprint('home', __name__)

@home_bp.route('/')
def index():
    """í™ˆ í˜ì´ì§€ - ì¡°ëŒ€í‘œë‹˜ ìë™ ë¡œê·¸ì¸"""
    # app_v1.6.pyì˜ index() í•¨ìˆ˜ ë‚´ìš© ë³µì‚¬
    
@home_bp.route('/home')
def home_page():
    """ëŒ€ë¬¸ í˜ì´ì§€"""
    # app_v1.6.pyì˜ home() í•¨ìˆ˜ ë‚´ìš© ë³µì‚¬
    # render_template('home.html') ì‚¬ìš©ìœ¼ë¡œ ë³€ê²½
    
@home_bp.route('/api/debug/session')
def debug_session():
    """ì„¸ì…˜ ë””ë²„ê¹… API"""
    # app_v1.6.pyì˜ debug_session() í•¨ìˆ˜ ë‚´ìš© ë³µì‚¬
```

### **2-2. routes/learning_routes.py ìƒì„±**

**ìœ„ì¹˜**: `routes/learning_routes.py`  
**í¬ê¸° ì œí•œ**: 150ì¤„ ì´í•˜  

```python
from flask import Blueprint, render_template
from services.user_service import check_user_session

learning_bp = Blueprint('learning', __name__)

@learning_bp.route('/basic-learning')
def basic_learning():
    # app_v1.6.pyì˜ basic_learning() í•¨ìˆ˜ ë¡œì§ ë³µì‚¬
    # return render_template('basic_learning.html', user_id=current_user_id)

@learning_bp.route('/category-learning') 
def category_learning():
    # app_v1.6.pyì˜ category_learning() í•¨ìˆ˜ ë¡œì§ ë³µì‚¬
    
@learning_bp.route('/statistics')
def statistics():
    # app_v1.6.pyì˜ statistics() í•¨ìˆ˜ ë¡œì§ ë³µì‚¬
```

### **2-3. routes/settings_routes.py ìƒì„±**

**ìœ„ì¹˜**: `routes/settings_routes.py`  
**í¬ê¸° ì œí•œ**: 100ì¤„ ì´í•˜  

```python
from flask import Blueprint, render_template
from services.user_service import check_user_session, get_ceo_info

settings_bp = Blueprint('settings', __name__)

@settings_bp.route('/settings')
def settings():
    # app_v1.6.pyì˜ settings() í•¨ìˆ˜ ë¡œì§ ë³µì‚¬
    # return render_template('settings.html', user_id=current_user_id, ceo_info=ceo_info)
```

---

## ğŸ“‹ **STEP 3: ì„œë¹„ìŠ¤ ì—…ë°ì´íŠ¸ (ì˜ˆìƒ ì†Œìš”: 20ë¶„)**

### **3-1. services/user_service.py ì—…ë°ì´íŠ¸**

**ìœ„ì¹˜**: `services/user_service.py` (ê¸°ì¡´ íŒŒì¼ ì—…ë°ì´íŠ¸)  
**í¬ê¸° ì œí•œ**: 150ì¤„ ì´í•˜  

**ì¶”ê°€í•  í•¨ìˆ˜ë“¤**:
```python
def get_ceo_info():
    """ì¡°ëŒ€í‘œë‹˜ ê¸°ë³¸ ì •ë³´ ë°˜í™˜"""
    # app_v1.6.pyì˜ ì¡°ëŒ€í‘œë‹˜ ì •ë³´ ë¡œì§ ë³µì‚¬
    
def check_user_session():
    """ì‚¬ìš©ì ì„¸ì…˜ ì²´í¬"""
    # app_v1.6.pyì˜ check_user_session() í•¨ìˆ˜ ë³µì‚¬
```

---

## ğŸ“‹ **STEP 4: app_v1.7.py ìƒì„± (ì˜ˆìƒ ì†Œìš”: 20ë¶„)**

### **4-1. app_v1.7.py ìƒì„±**

**ìœ„ì¹˜**: `app_v1.7.py`  
**í¬ê¸° ì œí•œ**: 80ì¤„ ì´í•˜  

```python
from flask import Flask
from datetime import timedelta

def create_app():
    """ê²½ëŸ‰í™”ëœ Flask ì•± íŒ©í† ë¦¬"""
    app = Flask(__name__)
    
    # ê¸°ë³¸ ì„¤ì • (app_v1.6.pyì—ì„œ ë³µì‚¬)
    
    # Blueprint ë“±ë¡
    register_blueprints(app)
    register_error_handlers(app)
    
    return app

def register_blueprints(app):
    """Blueprint ë“±ë¡"""
    # ê¸°ì¡´ + ì‹ ê·œ Blueprintë“¤ ë“±ë¡
    
def register_error_handlers(app):
    """ê°„ë‹¨í•œ ì—ëŸ¬ í•¸ë“¤ëŸ¬"""
    # 404, 500 ì—ëŸ¬ ì²˜ë¦¬

if __name__ == '__main__':
    # ì‹¤í–‰ ì½”ë“œ
```

---

## âœ… **STEP 5: ê²€ì¦ ë° í…ŒìŠ¤íŠ¸**

### **5-1. ë¬¸ë²• ê²€ì¦**
```bash
python -m py_compile app_v1.7.py
python -m py_compile routes/home_routes.py
python -m py_compile routes/learning_routes.py
python -m py_compile routes/settings_routes.py
python -m py_compile services/user_service.py
```

### **5-2. ì„œë²„ ì‹¤í–‰ í…ŒìŠ¤íŠ¸**
```bash
python app_v1.7.py
```

**ê¸°ëŒ€ ê²°ê³¼**:
```
ğŸš€ AICU S4 v1.7 (ì ì§„ì  ë¦¬íŒ©í† ë§ ì™„ì„±)
ğŸ“ URL: http://localhost:5000
âœ… í™ˆ ë¼ìš°íŠ¸ ë“±ë¡
âœ… í•™ìŠµ ë¼ìš°íŠ¸ ë“±ë¡  
âœ… ì„¤ì • ë¼ìš°íŠ¸ ë“±ë¡
```

### **5-3. ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸**

**í•„ìˆ˜ í…ŒìŠ¤íŠ¸ í•­ëª©**:
- [ ] **ëŒ€ë¬¸ ì ‘ì†**: `http://localhost:5000` â†’ ì¡°ëŒ€í‘œë‹˜ ì •ë³´ í‘œì‹œ
- [ ] **ì„¤ì • ì ‘ì†**: `http://localhost:5000/settings` â†’ D-Day ê³„ì‚° í‘œì‹œ
- [ ] **ê¸°ë³¸í•™ìŠµ**: `http://localhost:5000/basic-learning` â†’ í˜ì´ì§€ ì •ìƒ í‘œì‹œ
- [ ] **ëŒ€ë¶„ë¥˜í•™ìŠµ**: `http://localhost:5000/category-learning` â†’ í˜ì´ì§€ ì •ìƒ í‘œì‹œ
- [ ] **í†µê³„**: `http://localhost:5000/statistics` â†’ í˜ì´ì§€ ì •ìƒ í‘œì‹œ
- [ ] **ì„¸ì…˜ ë””ë²„ê·¸**: `http://localhost:5000/api/debug/session` â†’ JSON ì‘ë‹µ

### **5-4. ì„±ëŠ¥ ê²€ì¦**
```bash
# íŒŒì¼ í¬ê¸° ë° ë¼ì¸ ìˆ˜ í™•ì¸
wc -l app_v1.7.py          # ëª©í‘œ: 80ì¤„ ì´í•˜
wc -l routes/home_routes.py     # ëª©í‘œ: 120ì¤„ ì´í•˜
wc -l routes/learning_routes.py # ëª©í‘œ: 150ì¤„ ì´í•˜
wc -l routes/settings_routes.py # ëª©í‘œ: 100ì¤„ ì´í•˜
```

---

## ğŸ“Š **STEP 6: ì™„ë£Œ ë³´ê³ ì„œ ì‘ì„±**

### **6-1. ì‘ì—… ê²°ê³¼ ìš”ì•½**

**ì™„ë£Œ ë³´ê³ ì„œ í…œí”Œë¦¿**:
```markdown
# ì ì§„ì  ë¦¬íŒ©í† ë§ ì™„ë£Œ ë³´ê³ ì„œ

**ì‘ì—… ì¼ì‹œ**: 2025ë…„ 8ì›” 10ì¼ XX:XX ~ XX:XX KST
**ì‘ì—…ì**: ì„œëŒ€ë¦¬
**ì´ ì†Œìš” ì‹œê°„**: Xì‹œê°„ Xë¶„

## âœ… ì™„ë£Œëœ ì‘ì—…

### ë°±ì—… ë° ì•ˆì „ì¥ì¹˜
- [x] app_v1.6.py â†’ app_v1.6.py.backup
- [x] Git ì»¤ë°‹ ë° íƒœê·¸: v1.6-stable
- [x] ì‘ì—… ë¸Œëœì¹˜: refactoring-v1.7

### í…œí”Œë¦¿ ë¶„ë¦¬ (Xë¶„)
- [x] templates/home.html (XXXì¤„)
- [x] templates/basic_learning.html ì—…ë°ì´íŠ¸
- [x] templates/category_learning.html (XXXì¤„)  
- [x] templates/statistics.html ì—…ë°ì´íŠ¸
- [x] templates/settings.html (XXXì¤„)

### ë¼ìš°íŠ¸ ë¶„ë¦¬ (Xë¶„)
- [x] routes/home_routes.py (XXXì¤„)
- [x] routes/learning_routes.py (XXXì¤„)
- [x] routes/settings_routes.py (XXXì¤„)

### ì„œë¹„ìŠ¤ ì—…ë°ì´íŠ¸ (Xë¶„)
- [x] services/user_service.py ì—…ë°ì´íŠ¸

### ë©”ì¸ ì•± ìƒì„± (Xë¶„)
- [x] app_v1.7.py (XXXì¤„)

## âœ… ê²€ì¦ ê²°ê³¼

### ë¬¸ë²• ê²€ì¦
- [x] ëª¨ë“  Python íŒŒì¼ ë¬¸ë²• ì˜¤ë¥˜ ì—†ìŒ

### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [x] ëŒ€ë¬¸ ì ‘ì† ì •ìƒ
- [x] ì„¤ì • í˜ì´ì§€ ì •ìƒ
- [x] ëª¨ë“  í•™ìŠµ í˜ì´ì§€ ì •ìƒ
- [x] ì„¸ì…˜ ë””ë²„ê·¸ API ì •ìƒ

### ì„±ëŠ¥ ì§€í‘œ
- ê¸°ì¡´: app_v1.6.py (694ì¤„)
- ê°œì„ : app_v1.7.py (XXì¤„)
- ê°œì„ ìœ¨: XX% ê°ì†Œ

## ğŸ¯ ë¶„í•  ê°œë°œ ì›ì¹™ ì¤€ìˆ˜ í™•ì¸
- [x] ëª¨ë“  íŒŒì¼ 200ì¤„ ì´í•˜
- [x] ê¸°ì¡´ ìì‚° ë³´ì¡´
- [x] ë¡¤ë°± ê°€ëŠ¥í•œ êµ¬ì¡°

## âš ï¸ ë°œìƒí•œ ë¬¸ì œ ë° í•´ê²°
- ë¬¸ì œ 1: [ì„¤ëª…]
- í•´ê²°: [í•´ê²° ë°©ë²•]

## ğŸ“‹ í›„ì† ì‘ì—… í•„ìš” ì‚¬í•­
- [ ] í•„ìš” ì‹œ ì¶”ê°€ ìµœì í™”
- [ ] ì¶”ê°€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
```

### **6-2. ì„±ê³¼ ì¸¡ì •**

**ì¸¡ì • ì§€í‘œ**:
- **ì½”ë“œ ë¼ì¸ ê°ì†Œìœ¨**: (694 - ìƒˆë¡œìš´ ì´ ë¼ì¸) / 694 Ã— 100%
- **íŒŒì¼ ë¶„í•  íš¨ê³¼**: ëª¨ë“  íŒŒì¼ì´ 200ì¤„ ì´í•˜ì¸ì§€ í™•ì¸
- **ê¸°ëŠ¥ ë³´ì¡´ìœ¨**: ëª¨ë“  ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸
- **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**: ìˆ˜ì • ì‹œ ì˜í–¥ ë²”ìœ„ ìµœì†Œí™”

---

## ğŸš¨ **ê¸´ê¸‰ ë¡¤ë°± ì ˆì°¨**

### **ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ ì‹¤í–‰**
```bash
# ì¦‰ì‹œ ë¡¤ë°±
git checkout v1.6-stable
cp app_v1.6.py.backup app_v1.6.py

# ë˜ëŠ” ë°±ì—… í´ë”ì—ì„œ ë³µì›
cp -r routes_backup/* routes/
cp -r services_backup/* services/
cp -r templates_backup/* templates/

echo "âœ… v1.6 ìƒíƒœë¡œ ì™„ì „ ë¡¤ë°± ì™„ë£Œ"
```

---

## ğŸ“ **ë³´ê³  ì²´ê³„**

### **ì§„í–‰ ìƒí™© ë³´ê³ **
- **ê° STEP ì™„ë£Œ ì‹œ**: ì¡°ëŒ€í‘œë‹˜ + ë…¸íŒ€ì¥ì—ê²Œ ì§„í–‰ ë³´ê³ 
- **ë¬¸ì œ ë°œìƒ ì‹œ**: ì¦‰ì‹œ ë³´ê³  (í•´ê²° ë°©ì•ˆ í¬í•¨)
- **ìµœì¢… ì™„ë£Œ ì‹œ**: ì™„ë£Œ ë³´ê³ ì„œ ì œì¶œ

### **ë³´ê³  í˜•ì‹**
```
[AICU S4 ë¦¬íŒ©í† ë§] STEP X ì™„ë£Œ
- ì™„ë£Œ ì‹œê°„: XX:XX
- ì†Œìš” ì‹œê°„: Xë¶„
- ìƒì„± íŒŒì¼: routes/xxx.py (XXì¤„)
- ë‹¤ìŒ ë‹¨ê³„: STEP X+1 ì§„í–‰ ì˜ˆì •
- ì˜ˆìƒ ë¬¸ì œ: ì—†ìŒ/ìˆìŒ (ìƒì„¸ ë‚´ìš©)
```

---

## âœ… **ì‘ì—… ìŠ¹ì¸ ë° ì‹œì‘**

**ì¡°ëŒ€í‘œë‹˜ ìŠ¹ì¸ ì‚¬í•­**:
- [ ] ì•ˆì „ì¥ì¹˜ êµ¬ì¶• ë°©ë²• ìŠ¹ì¸
- [ ] ì ì§„ì  ë¦¬íŒ©í† ë§ ê³„íš ìŠ¹ì¸  
- [ ] ì„œëŒ€ë¦¬ ì‘ì—… ì§€ì‹œ ìŠ¹ì¸
- [ ] ë¡¤ë°± ì ˆì°¨ ìŠ¹ì¸

**ì„œëŒ€ë¦¬ í™•ì¸ ì‚¬í•­**:
- [ ] ì§€ì‹œì„œ ë‚´ìš© ì´í•´ ì™„ë£Œ
- [ ] ì‘ì—… í™˜ê²½ ì¤€ë¹„ ì™„ë£Œ
- [ ] ì˜ˆìƒ ì†Œìš” ì‹œê°„: Xì‹œê°„
- [ ] ì‘ì—… ì‹œì‘ ì‹œê°„: XX:XX

**ì‘ì—… ì‹œì‘ ì‹ í˜¸**: ì¡°ëŒ€í‘œë‹˜ "ì‹œì‘í•˜ì„¸ìš”" ì§€ì‹œ í›„ ì¦‰ì‹œ ì°©ìˆ˜

---

**ì§€ì‹œì„œ ì‘ì„± ì™„ë£Œ**: 2025ë…„ 8ì›” 10ì¼ 10:50 KST  
**ì‘ì„±ì**: ë…¸íŒ€ì¥  
**ìŠ¹ì¸ì**: ì¡°ëŒ€í‘œë‹˜  
**ì‹¤í–‰ì**: ì„œëŒ€ë¦¬