<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ACIU S4 - ì‹œë®¬ë ˆì´ì…˜ ìƒŒë“œë°•ìŠ¤</title>
	<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen">
	<div class="container mx-auto px-4 py-8">
		<h1 class="text-2xl font-bold mb-4">ğŸ›ï¸ ì¤‘ì•™ ì•„í‚¤í…ì²˜ ì‹œë®¬ë ˆì´ì…˜</h1>
		<p class="text-gray-600 mb-6">ì •ë‹µí™•ì¸ ì´ë²¤íŠ¸ â†’ ì €ì¥ â†’ ì§‘ê³„ â†’ UI ê°±ì‹  íë¦„ì„ ê²€ì¦í•©ë‹ˆë‹¤.</p>

		<div class="grid md:grid-cols-2 gap-6">
			<!-- ì¢Œ: ì»¨íŠ¸ë¡¤ -->
			<div class="bg-white rounded-lg shadow p-4">
				<h2 class="font-semibold mb-3">ì»¨íŠ¸ë¡¤</h2>
				<label class="block text-sm mb-1">ì¹´í…Œê³ ë¦¬</label>
				<select id="sim-category" class="w-full border rounded px-2 py-1 mb-3">
					<option>ì¬ì‚°ë³´í—˜</option>
					<option>íŠ¹ì¢…ë³´í—˜</option>
					<option>ë°°ìƒì±…ì„ë³´í—˜</option>
					<option>í•´ìƒë³´í—˜</option>
				</select>

				<label class="block text-sm mb-1">ë¬¸ì œ ID</label>
				<input id="sim-qid" type="number" class="w-full border rounded px-2 py-1 mb-3" placeholder="ì˜ˆ: 101" />

				<label class="block text-sm mb-1">ì •ë‹µ ì—¬ë¶€</label>
				<select id="sim-correct" class="w-full border rounded px-2 py-1 mb-4">
					<option value="true">ì •ë‹µ</option>
					<option value="false">ì˜¤ë‹µ</option>
				</select>

				<div class="flex gap-2">
					<button id="btn-submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">ì •ë‹µí™•ì¸ ì´ë²¤íŠ¸ ë°œìƒ</button>
					<button id="btn-clear" class="bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded">ìŠ¤í† ë¦¬ì§€ ì´ˆê¸°í™”</button>
				</div>
			</div>

			<!-- ìš°: ìƒíƒœ ì¶œë ¥ -->
			<div class="bg-white rounded-lg shadow p-4">
				<h2 class="font-semibold mb-3">ìƒíƒœ</h2>
				<div class="grid grid-cols-2 gap-4 text-sm">
					<div>
						<h3 class="font-semibold mb-1">ì‹¤ì‹œê°„ ë°ì´í„°</h3>
						<pre id="out-realtime" class="bg-gray-50 border rounded p-2 overflow-auto h-48"></pre>
					</div>
					<div>
						<h3 class="font-semibold mb-1">ì¹´í…Œê³ ë¦¬ í†µê³„</h3>
						<pre id="out-category" class="bg-gray-50 border rounded p-2 overflow-auto h-48"></pre>
					</div>
					<div class="col-span-2">
						<h3 class="font-semibold mb-1">ë¬¸ì œ í’€ì´ ê²°ê³¼ ë¡œê·¸</h3>
						<pre id="out-results" class="bg-gray-50 border rounded p-2 overflow-auto h-48"></pre>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- ì‹œìŠ¤í…œ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ -->
	<script src="/static/js/central_data_manager.js"></script>
	<script src="/static/js/realtime_sync_manager.js"></script>

	<script>
		function refreshOutputs() {
			try {
				const realtime = JSON.parse(localStorage.getItem('aicu_real_time_data')||'{}');
				const category = JSON.parse(localStorage.getItem('aicu_category_statistics')||'{}');
				const results = JSON.parse(localStorage.getItem('aicu_quiz_results')||'{}');
				document.getElementById('out-realtime').textContent = JSON.stringify(realtime, null, 2);
				document.getElementById('out-category').textContent = JSON.stringify(category, null, 2);
				document.getElementById('out-results').textContent = JSON.stringify(results, null, 2);
			} catch(e) { console.error(e); }
		}

		document.addEventListener('DOMContentLoaded', () => {
			refreshOutputs();
			document.getElementById('btn-submit').addEventListener('click', () => {
				const category = document.getElementById('sim-category').value;
				const qid = Number(document.getElementById('sim-qid').value) || Math.floor(Math.random()*1000)+1;
				const isCorrect = document.getElementById('sim-correct').value === 'true';
				
				// ì¹´í…Œê³ ë¦¬ë³„ ì‹¤ì œ ë‹µì•ˆ í˜•ì‹ ì‚¬ìš©
				let userAnswer, correctAnswer;
				if (category === 'ì¬ì‚°ë³´í—˜' || category === 'íŠ¹ì¢…ë³´í—˜') {
					// ì§„ìœ„í˜• ë¬¸ì œê°€ ë§ìŒ
					userAnswer = isCorrect ? 'O' : 'X';
					correctAnswer = 'O';
				} else {
					// ì„ íƒí˜• ë¬¸ì œê°€ ë§ìŒ
					userAnswer = isCorrect ? '1' : '2';
					correctAnswer = '1';
				}
				
				if (window.CentralDataManager && typeof window.CentralDataManager.recordQuizResult === 'function') {
					window.CentralDataManager.recordQuizResult(qid, category, isCorrect, userAnswer, correctAnswer);
				}
				setTimeout(refreshOutputs, 50);
			});

			document.getElementById('btn-clear').addEventListener('click', () => {
				localStorage.removeItem('aicu_real_time_data');
				localStorage.removeItem('aicu_quiz_results');
				localStorage.removeItem('aicu_category_statistics');
				if (window.CentralDataManager && typeof window.CentralDataManager.syncData === 'function') {
					window.CentralDataManager.syncData();
				}
				setTimeout(refreshOutputs, 50);
			});

			document.addEventListener('dataUpdated', refreshOutputs);
		});
	</script>
</body>
</html>




